# Population Pyramid for Japan

This project visualizes Japan's population structure by age group and sex using data sourced from the provided CSV files. The visualization is generated as an interactive HTML page.

## Contents

- population_pyramid_japan.py — main script that loads the raw CSV data, expands 5-year age groups to single-year ages, runs a cohort-component projection, and renders the chart.
- index.html — exported interactive Plotly visualization (generated by the script).
- data/ — source CSV files used for the analysis.

## Data Source

All CSV files in data/ originate from e-Stat, the Japanese government statistics portal managed by the Statistics Bureau of Japan. The filenames correspond to official table IDs downloaded directly from https://www.e-stat.go.jp/, covering population estimates, age-specific fertility rates, and mortality rates.

## Prerequisites

- Python 3.10 or later
- pip package manager

Install the required Python packages:

```bash
pip install -r requirements.txt
```

If a requirements.txt file is not provided, install the dependencies manually:

```bash
pip install pandas plotly
```

## Usage

Run the main script to regenerate the population pyramid and export the HTML visualization:

```bash
python population_pyramid_japan.py
```

The script will:

1. Load the age- and sex-specific population, fertility, and mortality data from the data/ directory.
2. Expand 5-year age groups to single-year ages (uniform within each band).
3. Run a cohort-component projection from the latest population month.
4. Create an interactive Plotly chart and save it to index.html for viewing in a browser.

## Output

Open index.html in any modern web browser to view the interactive population pyramid. The annotation shows total population and the ratio of working-age (22–65) to non-working (0–21, 66+) population for each year.
